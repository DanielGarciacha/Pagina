<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Formulario Psicologico</title>
        <link rel="stylesheet" href="../css/bootstrap.css">
    </head>
<body>
    <div class="container">
        <div class="card mt-5">
            <div class="card-header">FORMULARIO DE PSICOLOGIA</div>
            <div class="card-body">
                <h5 class="card-title">Por favor llenar los siguientes datos:</h5>
                <div class="row">
                    <div class="col-lg-6 mt-3">
                        <form id="MEDFORM" action="">
                            <b><label for="username" class="mb-3">Nombre y Apellidos</label></b>
                            <b><input type="text" class="form-control mb-3 w-50" id="username"></b>
                            <b><label for="emailInput" class="mb-3">Correo Electronico(institucional o personal)</label></b>
                            <b><input type="email" class="form-control mb-3 w-50" id="emailInput"></b>
                            <b><div class="Gender">Seleccione su genero</div></b>
                            <b><select name="Gender" id="Gender" class=" form-control mb-3 w-50">
                                <option value="...">...</option>
                                <option value="male">Hombre</option>
                                <option value="female">Mujer</option>
                                <option value="other">Otro</option>
                            </select></b>
                            <label for="MC">Motivo de su cita:</label>
                            <textarea name="MC" id="MC" class="form-control mb-3 w-50"></textarea>
                            <label for="rc">Fecha de reserva de cita</label><b>
                            <input type="date"  id="rc" class="form-control mb-3 w-50"><b>
                            <b><label for="AR" class="mb-3">Elija la sede</label><b>
                            <b><select class="form-select mb-3 w-50" id="AR" name="AR" aria-label="Default select example">
                                <option selected>...</option>
                                <option value="Barranquillla">Barranquilla</option>
                                <option value="Soledad">Soledad</option>
                              </select><b>
                            <b><button type="submit" class="btn btn-outline-success">Guardar</button><b>
                            <b><button onclick="clearLocalStorage()" class="btn btn-outline-secondary ml-2">Limpiar Datos</button></b>
                            <b><button type="button" class="btn btn-dark"  onclick="window.location.href='bienestar.html'">Volver a Bienestar</button></b>
                            <!--<button type="submit" class="btn btn-outline-secondary ml-2" id="limpiarBtn">Limpiar</button>-->
                        </form>
                         <!-- Imagen de Bienestar enfermeria-->
                        <div class="col-lg-6 text-center mt-3">
                            <div class="text-center w-50">
                                <img src="../img/BienestarPSI.png " class="img-fluid w-30 h-80 mb-2 R-30" alt="Imagen de Bienestar psicologia">
                            </div>
                        </div>
                        <div id="response"></div>
    <!-- Validacion de formulario -->
    <script>
        document.getElementById('MEDFORM').addEventListener('submit', function(event){
            event.preventDefault();
            const formData = {
                //validacion de dato
                name: document.getElementById('username').value,
                emailInput : document.getElementById('emailInput').value,
                Gender: document.getElementById('Gender').value,
                rc : document.getElementById('rc').value,
                AR : document.getElementById('AR').value,
                MC : document.getElementById('MC').value
            };
            //guardado de datos de formulario en almacenamiento del navegador
            const forms = JSON.parse(localStorage.getItem('forms')) || [];
            forms.push(formData);
            localStorage.setItem('forms', JSON.stringify(forms));
            document.getElementById('response').innerText = 'Formulario Guardado';
        });
        function clearLocalStorage(){
            localStorage.removeItem('forms');
            document.getElementById('response').innerText = 'Datos eliminados del localStorage';
        }
    </script>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>